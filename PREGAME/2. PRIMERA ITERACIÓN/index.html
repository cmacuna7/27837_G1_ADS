<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Healthy+ - Mis Medicinas</title>
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <!-- Pantalla 1: Listado de Medicamentos -->
    <div id="screen-list" class="screen active">
      <header class="header">
        <h1 class="header-title">Mis Medicinas</h1>
      </header>

      <main class="main-content">
        <div class="medicine-list">
          <!-- Los medicamentos se cargar谩n din谩micamente desde IndexedDB -->
        </div>
      </main>

      <!-- Bot贸n Flotante para Agregar -->
      <button class="fab" aria-label="Agregar nueva medicina">
        <svg
          width="32"
          height="32"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="3"
        >
          <line x1="12" y1="5" x2="12" y2="19"></line>
          <line x1="5" y1="12" x2="19" y2="12"></line>
        </svg>
      </button>
    </div>

    <!-- Pantalla 2: Registro de Medicamento -->
    <div id="screen-form" class="screen">
      <header class="header">
        <button class="btn-text">Cancelar</button>
        <h1 class="header-title">Nueva Medicina</h1>
        <div style="width: 70px"></div>
      </header>

      <main class="main-content">
        <form class="medicine-form">
          <!-- Nombre del Medicamento -->
          <div class="form-group">
            <label for="medicine-name-input" class="form-label"
              >驴C贸mo se llama?</label
            >
            <input
              type="text"
              id="medicine-name-input"
              class="form-input"
              placeholder="Ej. Aspirina"
            />
          </div>

          <!-- Presentaci贸n -->
          <div class="form-group">
            <label class="form-label">Presentaci贸n</label>
            <div class="frequency-selector">
              <button
                type="button"
                class="presentation-btn active"
                data-presentation="pastilla"
              >
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 64 64"
                  fill="currentColor"
                  stroke="none"
                >
                  <path
                    d="M48.973,43.316L58.297,34l-0.02-0.02C61.809,30.375,64,25.445,64,20C64,8.953,55.047,0,44,0c-5.449,0-10.375,2.191-13.98,5.723L30,5.703l-9.316,9.324L48.973,43.316z"
                  />
                  <path
                    d="M15.027,20.684L5.879,29.84C2.25,33.461,0,38.465,0,44c0,11.047,8.953,20,20,20c5.535,0,10.539-2.25,14.16-5.879l9.156-9.148L15.027,20.684z"
                  />
                </svg>
                Pastilla
              </button>
              <button
                type="button"
                class="presentation-btn"
                data-presentation="jarabe"
              >
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 512 512"
                  fill="currentColor"
                  stroke="none"
                >
                  <path
                    d="M354.076,133.07c-10.346,0-18.762-8.417-18.762-18.762V99.459c10.398-0.537,18.67-9.113,18.67-19.643v-60.12C353.984,8.818,345.165,0,334.288,0H177.712c-10.877,0-19.696,8.818-19.696,19.696v60.12c0,10.532,8.272,19.108,18.67,19.643v14.848c0,10.346-8.417,18.762-18.762,18.762c-36.485,0-66.166,29.683-66.166,66.166c0,15.381,0,284.063,0,293.068c0,10.877,8.818,19.696,19.696,19.696h289.09c10.877,0,19.696-8.818,19.696-19.696c0-8.879,0-278.183,0-293.068C420.242,162.752,390.559,133.07,354.076,133.07z M314.592,39.392V60.12H197.408V39.392H314.592z M380.85,472.608H131.151V258.542H380.85V472.608z M380.851,219.152h-249.7v-19.916c0-14.763,12.01-26.775,26.775-26.775c32.066,0,58.154-26.088,58.154-58.154V99.511h79.843v14.797c0,32.066,26.088,58.154,58.154,58.154c14.763,0,26.774,12.011,26.774,26.775V219.152z"
                  />
                  <path
                    d="M206.794,385.27h29.511v29.511c0,10.877,8.818,19.696,19.696,19.696c10.877,0,19.696-8.818,19.696-19.696V385.27h29.511c10.877,0,19.696-8.818,19.696-19.696c0-10.877-8.818-19.696-19.696-19.696h-29.511v-29.51c0-10.877-8.818-19.696-19.696-19.696c-10.877,0-19.696,8.818-19.696,19.696v29.51h-29.511c-10.877,0-19.696,8.818-19.696,19.696C187.098,376.452,195.917,385.27,206.794,385.27z"
                  />
                </svg>
                Jarabe
              </button>
              <button
                type="button"
                class="presentation-btn"
                data-presentation="inyecci贸n"
              >
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 32 32"
                  fill="currentColor"
                  stroke="none"
                >
                  <path
                    d="M22.043,8.549l-0.595,-0.595c-1.172,-1.172 -3.071,-1.172 -4.243,-0l-9.922,9.922l-1.574,-1.573c-0.391,-0.39 -1.024,-0.39 -1.414,0.001c-0.39,0.39 -0.39,1.024 0,1.414l4.289,4.285l-1.769,1.773l-1.49,-1.489c-0.39,-0.39 -1.024,-0.39 -1.414,0.001c-0.39,0.39 -0.39,1.024 0.001,1.414l4.368,4.366c0.391,0.39 1.025,0.39 1.415,-0.001c0.39,-0.39 0.39,-1.024 -0.001,-1.414l-1.464,-1.464l1.768,-1.772l4.295,4.291c0.391,0.39 1.024,0.39 1.414,-0c0.39,-0.391 0.39,-1.024 -0,-1.415l-1.35,-1.349l9.919,-9.919c1.172,-1.172 1.172,-3.071 0,-4.243l-0.819,-0.819l4.251,-4.256c0.39,-0.391 0.389,-1.025 -0.001,-1.415c-0.391,-0.39 -1.025,-0.389 -1.415,0.001l-4.249,4.256Zm-9.101,14.982l9.92,-9.92c0.391,-0.391 0.391,-1.024 0,-1.415c0,0 -2.828,-2.828 -2.828,-2.828c-0.391,-0.391 -1.024,-0.391 -1.414,-0l-0.858,0.857l1.108,1.108c0.39,0.39 0.39,1.024 -0,1.414c-0.39,0.391 -1.024,0.391 -1.414,0l-1.108,-1.107l-1.6,1.6l1.108,1.107c0.39,0.39 0.39,1.024 -0,1.414c-0.391,0.391 -1.024,0.391 -1.414,0l-1.108,-1.107l-1.572,1.571l1.108,1.108c0.39,0.39 0.39,1.024 -0,1.414c-0.39,0.391 -1.024,0.391 -1.414,0l-1.108,-1.107l-1.65,1.65l4.244,4.241Z"
                  />
                </svg>
                Inyecci贸n
              </button>
            </div>
          </div>

          <!-- Dosis -->
          <div class="form-group">
            <label class="form-label">Dosis</label>
            <div class="dose-selector">
              <button type="button" class="dose-btn">
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="3"
                >
                  <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
              </button>
              <div class="dose-display">
                <span id="dose-value" class="dose-value">500</span>
                <span id="dose-unit" class="dose-unit">mg</span>
              </div>
              <button type="button" class="dose-btn">
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="3"
                >
                  <line x1="12" y1="5" x2="12" y2="19"></line>
                  <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
              </button>
            </div>
          </div>

          <!-- Frecuencia -->
          <div class="form-group">
            <label class="form-label">Frecuencia</label>
            <div class="frequency-selector">
              <button type="button" class="frequency-btn active">
                Cada 8h
              </button>
              <button type="button" class="frequency-btn">Cada 12h</button>
              <button type="button" class="frequency-btn">Cada 24h</button>
            </div>
          </div>

          <!-- Hora de Primera Toma -->
          <div class="form-group">
            <label for="time-input" class="form-label"
              >Hora de la primera toma</label
            >
            <input
              type="time"
              id="time-input"
              class="time-input"
              value="08:00"
            />
          </div>

          <!-- Duraci贸n del Tratamiento -->
          <div class="form-group">
            <label for="duration-input" class="form-label"
              >Duraci贸n del tratamiento (d铆as)</label
            >
            <input
              type="number"
              id="duration-input"
              class="form-input"
              placeholder="Ej. 7"
              value="7"
              min="1"
              max="365"
            />
          </div>

          <!-- Notas Adicionales -->
          <div class="form-group">
            <label for="notes-input" class="form-label"
              >Notas adicionales (opcional)</label
            >
            <textarea
              id="notes-input"
              class="form-input"
              placeholder="Ej. Tomar con alimentos, evitar alcohol..."
              rows="3"
            ></textarea>
          </div>

          <!-- Bot贸n Guardar -->
          <button type="submit" id="save-btn" class="btn-save" disabled>
            GUARDAR TRATAMIENTO
          </button>
        </form>
      </main>
    </div>

    <!-- Pantalla 3: Alerta de Recordatorio -->
    <div id="screen-alert" class="screen screen-alert">
      <div class="alert-container">
        <div class="alert-icon">
          <svg
            width="80"
            height="80"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            class="bell-animation"
          >
            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
            <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
          </svg>
        </div>

        <h2 class="alert-title">隆Hora de tu medicina!</h2>
        <p class="alert-subtitle">Paracetamol 500mg</p>

        <div class="alert-actions">
          <button class="alert-btn alert-btn-taken">
            <svg
              width="28"
              height="28"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="3"
            >
              <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
            YA LA TOM
          </button>
          <button class="alert-btn alert-btn-postpone">
            <svg
              width="28"
              height="28"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <circle cx="12" cy="12" r="10"></circle>
              <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
            RECORDAR EN 10 MIN
          </button>
          <button class="alert-btn alert-btn-skip">
            <svg
              width="28"
              height="28"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
            OMITIR
          </button>
        </div>

        <!-- Modal para motivo de omisi贸n -->
        <div
          id="skip-reason-modal"
          class="skip-reason-modal"
          style="display: none"
        >
          <div class="skip-reason-content">
            <h3>驴Por qu茅 omitiste esta dosis?</h3>
            <div class="skip-reasons">
              <button class="reason-btn" data-reason="Olvid茅 tomarla">
                 Olvid茅 tomarla
              </button>
              <button class="reason-btn" data-reason="No tengo el medicamento">
                 No tengo el medicamento
              </button>
              <button class="reason-btn" data-reason="Efectos secundarios">
                あ Efectos secundarios
              </button>
              <button class="reason-btn" data-reason="Ya me siento mejor">
                 Ya me siento mejor
              </button>
              <button class="reason-btn" data-reason="Otro motivo">
                锔 Otro motivo
              </button>
            </div>
            <button class="btn-cancel-skip">Cancelar</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Confetti Overlay -->
    <div id="confetti" class="confetti-overlay"></div>

    <!-- Script Principal con m贸dulos ES6 -->
    <script type="module" src="js/app.js"></script>
  </body>
</html>
